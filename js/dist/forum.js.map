{"version":3,"sources":["webpack://@therealsujitk/flarum-ext-gifs/webpack/bootstrap","webpack://@therealsujitk/flarum-ext-gifs/./forum.js","webpack://@therealsujitk/flarum-ext-gifs/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@therealsujitk/flarum-ext-gifs/./src/forum/components/SearchGIFModal.js","webpack://@therealsujitk/flarum-ext-gifs/./src/forum/index.js","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['app']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['components/Button']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['components/Modal']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['components/TextEditor']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['extend']\""],"names":["giphyAPI","giphyLimit","SearchGIFModal","className","title","app","translator","trans","content","m","align","id","type","placeholder","oninput","query","document","getElementById","value","url","fetch","then","response","json","resultsLeft","resultsRight","innerHTML","imgL","createElement","imgR","src","data","i","images","downsized","alt","style","insertAdjacentElement","onclick","embed","modal","close","props","textArea","insertAtCursor","parseInt","width","Modal","initializers","add","extend","TextEditor","prototype","items","show"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\n\nconst giphyAPI = '';\nconst giphyLimit = '200';\n\nexport default class SearchGIFModal extends Modal {\n  className() {\n    return '';\n  }\n\n  title() {\n    return app.translator.trans('therealsujitk.forum.gifs.title');\n  }\n\n  content() {\n    return m('.Modal-body', m('div', { class: 'Search', align: 'center' }, [\n        m('div', { class: 'Search-input' }, [\n          m('input[style = width: 100%;]', {\n            id: 'GIFSearchBar',\n            class: 'FormControl',\n            type: 'search',\n            placeholder: app.translator.trans('therealsujitk.forum.gifs.searchGiphy'),\n            oninput: () => {\n              let query = document.getElementById('GIFSearchBar').value;\n              let url;\n\n              if(query == '')\n                url = 'https://api.giphy.com/v1/gifs/trending?api_key=' + giphyAPI + '&limit=' + giphyLimit;\n              else\n                url = 'https://api.giphy.com/v1/gifs/search?api_key=' + giphyAPI + '&q=' + query +'&limit=' + giphyLimit;\n\n              fetch(url).then(response => response.json()).then(content => {\n                let resultsLeft = document.getElementById('LeftResults');\n                let resultsRight = document.getElementById('RightResults');\n                resultsLeft.innerHTML = '';\n                resultsRight.innerHTML = '';\n\n                for(var i=0; i<parseInt(giphyLimit, 10); i+=2) {\n                  if(document.getElementById('GIFSearchBar').value != query)\n                    break;\n\n                  let imgL = document.createElement('img');\n                  let imgR = document.createElement('img');\n\n                  imgL.src = content.data[i].images.downsized.url;\n                  imgL.alt = content.data[i].title;\n                  imgL.style = 'min-width: 97.5%; width: 97.5%; border-radius: 5px; margin: 1.25%; margin-left: 0%; margin-right: 0.625%; vertical-align: top; cursor: pointer;';\n                  resultsLeft.insertAdjacentElement(\"beforeend\", imgL);\n                  imgL.onclick = () => {\n                    let embed = '![Giphy - ' + imgL.alt + ']' + '(' + imgL.src + ')';\n                    app.modal.close();\n                    this.props.textArea.insertAtCursor(embed);\n                  };\n                  imgR.src = content.data[i+1].images.downsized.url;\n                  imgR.alt = content.data[i+1].title;\n                  imgR.style = 'min-width: 97.5%; width: 97.5%; border-radius: 5px; margin: 1.25%; margin-left: 0.625%; margin-right: 0%; vertical-align: top; cursor: pointer;';\n                  resultsRight.insertAdjacentElement(\"beforeend\", imgR);\n                  imgR.onclick = () => {\n                    let embed = '![Giphy - ' + imgR.alt + ']' + '(' + imgR.src + ')';\n                    app.modal.close();\n                    this.props.textArea.insertAtCursor(embed);\n                  };\n                }\n              });\n            }\n        })])]), m('div[style = \"margin-top: 10px; margin-bottom: 10px; min-height: 40vh; max-height: 50vh; overflow: auto;\"]', [\n          m('table', [\n            m('td', {\n              id: 'LeftResults',\n              width: '50%'\n            }),\n            m('td', {\n              id: 'RightResults',\n              width: '50%'\n            })\n          ])\n        ])\n    );\n  }\n}\n","import {extend} from 'flarum/extend';\r\nimport app from 'flarum/app';\r\nimport Button from 'flarum/components/Button';\r\nimport TextEditor from 'flarum/components/TextEditor';\r\nimport SearchGIFModal from './components/SearchGIFModal';\r\n\r\napp.initializers.add('therealsujitk/flarum-ext-gifs', () => {\r\n\textend(TextEditor.prototype, 'toolbarItems', function (items) {\r\n        items.add('therealsujitk-gifs', m('button', {\r\n\t\t\t\t\ttype: 'buton',\r\n\t\t\t\t\tclass: 'Button Button--icon Button--link hasIcon',\r\n\t\t\t\t\ttitle: app.translator.trans('therealsujitk.forum.gif.title'),\r\n\t\t\t\t\tonclick: () => {\r\n\t\t\t\t\t\tapp.modal.show(new SearchGIFModal({\r\n\t\t\t\t\t\t\ttextArea: this\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t}, [\r\n\t\t\t\tm('i', { class: 'fas fa-photo-video' }),\r\n\t\t\t\tm('span', { class: 'Button-label' }, app.translator.trans('therealsujitk.forum.gifs.label')),\r\n\t\t\t]),\r\n\t\t10);\r\n    });\r\n});\r\n","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/TextEditor'];","module.exports = flarum.core.compat['extend'];"],"sourceRoot":""}