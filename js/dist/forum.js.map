{"version":3,"sources":["webpack://@therealsujitk/flarum-ext-gifs/webpack/bootstrap","webpack://@therealsujitk/flarum-ext-gifs/./forum.js","webpack://@therealsujitk/flarum-ext-gifs/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@therealsujitk/flarum-ext-gifs/./src/forum/components/SearchGIFModal.js","webpack://@therealsujitk/flarum-ext-gifs/./src/forum/index.js","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['app']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['components/Button']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['components/Modal']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['components/TextEditor']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['extend']\""],"names":["giphyLimit","getGiphyURL","textarea","giphyAPI","query","document","getElementById","value","trim","url","fetch","then","response","json","content","resultsLeft","resultsRight","innerHTML","scrollTop","imgL","createElement","imgR","getElementsByClassName","textContent","data","src","i","images","downsized","alt","title","style","insertAdjacentElement","onclick","embed","app","modal","close","insertAtCursor","parseInt","SearchGIFModal","className","translator","trans","m","id","align","width","type","autocomplete","placeholder","Button","component","children","props","textArea","forum","attribute","config","Modal","initializers","add","extend","TextEditor","prototype","items","show"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\n\nconst giphyLimit = '100';\n\nfunction getGiphyURL(textarea, giphyAPI) {\n  let query = document.getElementById('GIFSearchBar').value.trim();\n  let url;\n  if(query != '')\n    url = 'https://api.giphy.com/v1/gifs/search?api_key=' + giphyAPI + '&q=' + query +'&limit=' + giphyLimit;\n  else\n    url = 'https://api.giphy.com/v1/gifs/trending?api_key=' + giphyAPI + '&limit=' + giphyLimit;\n\n  fetch(url).then(response => response.json()).then(content => {\n    let resultsLeft = document.getElementById('LeftResults');\n    let resultsRight = document.getElementById('RightResults');\n    resultsLeft.innerHTML = '';\n    resultsRight.innerHTML = '';\n\n    resultsLeft.scrollTop = 0;\n\n    for(var i=0; i<parseInt(giphyLimit, 10); i+=2) {\n      let imgL = document.createElement('img');\n      let imgR = document.createElement('img');\n\n      document.getElementsByClassName('temp-text')[0].textContent = '';\n\n      if(typeof content.data[0] === 'undefined') {\n        document.getElementsByClassName('temp-text')[0].textContent = 'No Results';\n      }\n\n      imgL.src = content.data[i].images.downsized.url;\n      imgL.alt = content.data[i].title;\n      imgL.style = 'min-width: 97.5%; width: 97.5%; border-radius: 5px; margin: 1.25%; margin-left: 0%; margin-right: 0.3125%; vertical-align: top; cursor: pointer;';\n      resultsLeft.insertAdjacentElement(\"beforeend\", imgL);\n      imgL.onclick = () => {\n        let embed = '![Giphy - ' + imgL.alt + ']' + '(' + imgL.src + ')';\n        app.modal.close();\n        textarea.insertAtCursor(embed);\n      };\n      imgR.src = content.data[i+1].images.downsized.url;\n      imgR.alt = content.data[i+1].title;\n      imgR.style = 'min-width: 97.5%; width: 97.5%; border-radius: 5px; margin: 1.25%; margin-left: 0.3125%; margin-right: 0%; vertical-align: top; cursor: pointer;';\n      resultsRight.insertAdjacentElement(\"beforeend\", imgR);\n      imgR.onclick = () => {\n        let embed = '![Giphy - ' + imgR.alt + ']' + '(' + imgR.src + ')';\n        app.modal.close();\n        textarea.insertAtCursor(embed);\n      };\n    }\n  });\n}\n\nexport default class SearchGIFModal extends Modal {\n  className() {\n    return '';\n  }\n\n  title() {\n    return app.translator.trans('therealsujitk.forum.gifs.title');\n  }\n\n  content() {\n    return m('.Modal-body[style]', m('span[style = position: absolute; left: 50%; top: 200px; transform: translate(-50%, -50%);]', {\n      id: 'flarum-loading',\n      class: 'temp-text'\n    }, 'Loading...'),\n    m('div', [m('table[style = vertical-align: top; horizontal-align: right;]', {\n      align: 'center',\n      width: '100%'\n    },[\n      m('td', [\n        m('div[style = margin-right: 1.25%;]', { class: 'Search-input' }, [\n          m('input[style = width: 100%;]', {\n            id: 'GIFSearchBar',\n            class: 'FormControl',\n            type: 'search',\n            autocomplete: 'off',\n            placeholder: app.translator.trans('therealsujitk.forum.gifs.searchbar')\n        })])]),\n      m('td[style = width: 0px;]', [\n        m('.Form-group[style = margin-left: 1.25%;]', [\n          Button.component({\n            className: 'Button Button--primary',\n            children: 'Search',\n            onclick: () => {\n              document.getElementsByClassName('temp-text')[0].textContent = 'Loading...';\n              const textarea = this.props.textArea;\n              const giphyAPI = app.forum.attribute('therealsujitk-gifs.giphy_api_key');\n\t\t\t\t\t\t\tgetGiphyURL(textarea, giphyAPI);\n            }\n          })\n        ])\n      ])])]), m('div[style = \"margin-top: 10px; margin-bottom: 10px; min-height: 45vh; height: 45vh; overflow: auto;\"]', [\n          m('table', {\n            width: '100%',\n            config: () => {\n              const textarea = this.props.textArea;\n              const giphyAPI = app.forum.attribute('therealsujitk-gifs.giphy_api_key');\n\t\t\t\t\t\t\tgetGiphyURL(textarea, giphyAPI);\n            }\n          }, [\n            m('td', {\n              id: 'LeftResults',\n              width: '50%'\n            }),\n            m('td', {\n              id: 'RightResults',\n              width: '50%'\n            })\n          ])\n        ]), m('div[style = padding-top: 10px; padding-bottom: 30px;]', [m('img[style = float: right;]', {\n          src: '../vendor/therealsujitk/flarum-ext-gifs/assets/powered_by_giphy.png'\n        })])\n    );\n  }\n}\n","import {extend} from 'flarum/extend';\r\nimport app from 'flarum/app';\r\nimport Button from 'flarum/components/Button';\r\nimport TextEditor from 'flarum/components/TextEditor';\r\nimport SearchGIFModal from './components/SearchGIFModal';\r\n\r\napp.initializers.add('therealsujitk/flarum-ext-gifs', () => {\r\n\textend(TextEditor.prototype, 'toolbarItems', function (items) {\r\n        items.add('therealsujitk-gifs', m('button', {\r\n\t\t\t\t\ttype: 'buton',\r\n\t\t\t\t\tclass: 'Button Button--icon Button--link hasIcon',\r\n\t\t\t\t\ttitle: app.translator.trans('therealsujitk.forum.gif.title'),\r\n\t\t\t\t\tonclick: () => {\r\n\t\t\t\t\t\tapp.modal.show(new SearchGIFModal({\r\n\t\t\t\t\t\t\ttextArea: this\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t}, [\r\n\t\t\t\tm('i', { class: 'fas fa-photo-video' }),\r\n\t\t\t\tm('span', { class: 'Button-label' }, app.translator.trans('therealsujitk.forum.gifs.label')),\r\n\t\t\t]),\r\n\t\t10);\r\n    });\r\n});\r\n","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/TextEditor'];","module.exports = flarum.core.compat['extend'];"],"sourceRoot":""}