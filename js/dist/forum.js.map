{"version":3,"sources":["webpack://@therealsujitk/flarum-ext-gifs/webpack/bootstrap","webpack://@therealsujitk/flarum-ext-gifs/./forum.js","webpack://@therealsujitk/flarum-ext-gifs/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@therealsujitk/flarum-ext-gifs/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@therealsujitk/flarum-ext-gifs/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@therealsujitk/flarum-ext-gifs/./node_modules/@babel/runtime/regenerator/index.js","webpack://@therealsujitk/flarum-ext-gifs/./node_modules/regenerator-runtime/runtime.js","webpack://@therealsujitk/flarum-ext-gifs/./src/forum/components/GIFModal.js","webpack://@therealsujitk/flarum-ext-gifs/./src/forum/components/HomeButton.js","webpack://@therealsujitk/flarum-ext-gifs/./src/forum/components/ResultButton.js","webpack://@therealsujitk/flarum-ext-gifs/./src/forum/helpers/Giphy.js","webpack://@therealsujitk/flarum-ext-gifs/./src/forum/helpers/Tenor.js","webpack://@therealsujitk/flarum-ext-gifs/./src/forum/index.js","webpack://@therealsujitk/flarum-ext-gifs/./src/forum/models/GIF.js","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['Model']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['app']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['common/Component']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['common/app']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['common/components/Button']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['common/components/Modal']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['common/components/TextEditor']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['common/components/TextEditorButton']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['common/components/Tooltip']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['common/extend']\"","webpack://@therealsujitk/flarum-ext-gifs/external \"flarum.core.compat['common/utils/Stream']\""],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","setPrototypeOf","_setPrototypeOf","o","p","__proto__","module","exports","require","runtime","Op","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","defineProperty","enumerable","configurable","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","makeInvokeMethod","tryCatch","type","call","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","name","mark","awrap","__await","AsyncIterator","PromiseImpl","invoke","record","result","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","next","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","nextLoc","toString","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","keys","object","reverse","length","pop","iterable","iteratorMethod","isNaN","i","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","prefix","ENGINE_GIPHY","ENGINE_TENOR","CATEGORY_HOME","CATEGORY_FAVOURITE","CATEGORY_TRENDING","CATEGORY_RESULT","GIFModal","oninit","vnode","textArea","attrs","baseUrl","app","forum","attribute","engine","apiKey","Engine","getEngine","initialize","isHomeVisible","isFavouritesVisible","isTrendingVisible","isResultsVisible","category","query","Stream","favourites","Set","homeButtons","Array","favouriteButtons","resultButtons","loadHomePage","loadFavouritesPage","loading","reachedEnd","className","title","content","showHome","bind","getPlaceholder","onkeydown","resetResultsPage","loadResultsPage","translator","trans","map","homeButton","favouriteButton","loadMore","resultButton","showFavourites","showTrending","showResults","favouritesButton","icon","onclick","trendingButton","loadTrendingPage","injectGIFs","getTrendingTerms","trendingTerms","button","e","target","innerText","store","find","response","gifIDs","el","gifID","data","attributes","add","getLimit","startIndex","$","eq","animate","scrollTop","scrollHeight","offsetHeight","t","limit","getGIFsByIDs","gifs","getTrendingGIFs","getGIFs","splice","gif","extractGIF","id","url","isFavourite","has","alt","src","embed","toUpperCase","insertAtCursor","modal","close","fetch","favourite","request","index","findIndex","createRecord","save","unshift","assign","m","redraw","onsubmit","preventDefault","trim","Modal","SuggestionButton","view","Component","ResultButton","hidden","rowSpan","Math","random","round","setRowSpan","handleFavourite","height","defaultLimit","json","console","terms","offset","ids","images","original","results","pos","media","initializers","models","GIF","extend","TextEditor","items","show","composer","editor","Model"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","module.exports = require(\"regenerator-runtime\");\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import app from 'flarum/app';\nimport Button from 'flarum/common/components/Button';\nimport HomeButton from './HomeButton';\nimport Modal from 'flarum/common/components/Modal';\nimport ResultButton from './ResultButton';\nimport Stream from 'flarum/common/utils/Stream'\n\nconst prefix = 'therealsujitk-gifs';\n\nconst ENGINE_GIPHY = 'giphy';\nconst ENGINE_TENOR = 'tenor';\n\nconst CATEGORY_HOME = 'home';\nconst CATEGORY_FAVOURITE = 'favourite';\nconst CATEGORY_TRENDING = 'trending';\nconst CATEGORY_RESULT = 'result';\n\nexport default class GIFModal extends Modal {\n    oninit(vnode) {\n        super.oninit(vnode);\n\n        this.textArea = this.attrs.textArea;\n        this.baseUrl = app.forum.attribute('baseUrl');\n        this.engine = app.forum.attribute(`${prefix}.engine`);\n        this.apiKey = app.forum.attribute(`${prefix}.api_key`);\n\n        this.Engine = this.getEngine();\n        this.Engine.initialize(this.apiKey);\n\n        this.isHomeVisible = true;\n        this.isFavouritesVisible = false;\n        this.isTrendingVisible = false;\n        this.isResultsVisible = false;\n\n        this.category = '';\n        this.query = Stream('');\n        this.next = null;\n\n        this.favourites = new Set();\n\n        this.homeButtons = new Array();\n        this.favouriteButtons = new Array();\n        this.resultButtons = new Array();\n\n        this.loadHomePage();\n        this.loadFavouritesPage();\n\n        this.loading = false;\n        this.reachedEnd = false;\n    }\n\n    className() {\n        return `${prefix}-modal`;\n    }\n\n    title() {\n        return 'Select a GIF to add to your post';\n    }\n\n    /**\n     * The body has four categories. HOME, FAVOURITES, TRENDING, RESULTS\n     * TRENDING and RESULTS use the same container\n     */\n    content() {\n        return <div className=\"Modal-body\">\n            <div style=\"display: flex;\">\n                <Button id={`${prefix}-back-button`} className=\"Button Button--icon hasIcon\" style={!this.isHomeVisible ? '' : 'display: none'} icon=\"fas fa-long-arrow-alt-left\" onclick={this.showHome.bind(this)} />\n                <span id={`${prefix}-category`} style={this.isFavouritesVisible || this.isTrendingVisible ? '' : 'display: none'}>{this.category && this.category}</span>\n                <div id={`${prefix}-search-input`} className=\"Search-input\" style={this.isHomeVisible || this.isResultsVisible ? '' : 'display: none'}>\n                    <input className=\"FormControl\" placeholder={this.getPlaceholder()} value={this.query()} bidi={this.query} onkeydown={this.onkeydown.bind(this)} />\n                </div>\n                <Button id={`${prefix}-search-button`} className=\"Button Button--primary\" style={this.isHomeVisible || this.isResultsVisible ? '' : 'display: none'} onclick={() => {this.resetResultsPage(); this.loadResultsPage();}}>\n                    {app.translator.trans(`${prefix}.forum.search`)}\n                </Button>\n            </div>\n\n            <div className={`${prefix}-container`} style={this.isHomeVisible ? '' : 'display: none'}>\n                {this.homeButtons && this.homeButtons.map(homeButton => <HomeButton attributes={homeButton} />)}\n            </div>\n\n            <div className={`${prefix}-container`} style={this.isFavouritesVisible ? '' : 'display: none'} scrollTop={this.isTrendingVisible || this.isResultsVisible ? '0' : ''}>\n                {this.favouriteButtons && this.favouriteButtons.map(favouriteButton => <ResultButton attributes={favouriteButton} />)}\n                <span id={`${prefix}-end`}>You've reached the end</span>\n            </div>\n\n            <div className={`${prefix}-container`} style={this.isTrendingVisible || this.isResultsVisible ? '' : 'display: none'} onscroll={this.loadMore.bind(this)} scrollTop={this.isTrendingVisible || this.isResultsVisible ? '0' : ''}>\n                {this.resultButtons && this.resultButtons.map(resultButton => <ResultButton attributes={resultButton} />)}\n                <span id={`${prefix}-end`}>You've reached the end</span>\n            </div>\n\n            <div id={`${prefix}-footer`}>\n                <img src={`${this.baseUrl}/assets/extensions/therealsujitk-gifs/powered_by_${this.engine}.svg`}></img>\n            </div>\n        </div>\n    }\n\n    getEngine() {\n        if (this.engine === ENGINE_TENOR) {\n            return require('../helpers/Tenor');\n        } else {\n            return require('../helpers/Giphy')\n        }\n    }\n\n    getPlaceholder() {\n        if (this.engine == ENGINE_TENOR) {\n            return app.translator.trans(`${prefix}.forum.searchTenor`);\n        } else {\n            return app.translator.trans(`${prefix}.forum.searchGiphy`);\n        }\n    }\n\n    showHome() {\n        this.isFavouritesVisible = false;\n        this.isTrendingVisible = false;\n        this.isResultsVisible = false;\n        this.isHomeVisible = true;\n\n        this.query('');\n        this.resetResultsPage();\n    }\n\n    showFavourites() {\n        this.isHomeVisible = false;\n        this.isResultsVisible = false;\n        this.isTrendingVisible = false;\n        this.isFavouritesVisible = true;\n\n        this.category = app.translator.trans(`${prefix}.forum.favourites`);\n    }\n\n    showTrending() {\n        this.isHomeVisible = false;\n        this.isFavouritesVisible = false;\n        this.isResultsVisible = false;\n        this.isTrendingVisible = true;\n\n        this.category = app.translator.trans(`${prefix}.forum.trending`);\n    }\n\n    showResults() {\n        this.isHomeVisible = false;\n        this.isFavouritesVisible = false;\n        this.isTrendingVisible = false;\n        this.isResultsVisible = true;\n    }\n\n    async loadHomePage() {\n        var favouritesButton = {\n            title: app.translator.trans(`${prefix}.forum.favourites`),\n            icon: 'fas fa-star',\n            onclick: () => {\n                this.showFavourites();\n            }\n        };\n\n        var trendingButton = {\n            title: app.translator.trans(`${prefix}.forum.trending`),\n            icon: 'fas fa-chart-line',\n            onclick: () => {\n                this.loadTrendingPage();\n            }\n        };\n\n        this.injectGIFs(null, 1, CATEGORY_HOME, 1);    // Background for the trending button\n        this.homeButtons.push(favouritesButton, trendingButton);\n\n        var trendingTerms = await this.Engine.getTrendingTerms();\n\n        for (var i = 0; i < trendingTerms.length; ++i) {\n            var button = {\n                title: trendingTerms[i],\n                onclick: (e) => {\n                    this.query(e.target.innerText);\n                    this.loadResultsPage();\n                }\n            };\n\n            this.injectGIFs(trendingTerms[i], this.homeButtons.length, CATEGORY_HOME, 1);\n            this.homeButtons.push(button);\n        }\n    }\n\n    async loadFavouritesPage() {\n        app.store.find(prefix)\n        .then((response) => {\n            var gifIDs = '';\n\n            response.forEach(el => {\n                var gifID = el.data.attributes.gifID;\n                gifIDs = `${gifIDs}${gifID},`;\n\n                this.favouriteButtons.push({});\n                this.favourites.add(gifID);\n            })\n\n            gifIDs = gifIDs.slice(0, -1);\n            this.injectGIFs(gifIDs, 0, CATEGORY_FAVOURITE, response.length);\n        });\n    }\n\n    async loadTrendingPage() {\n        this.showTrending();\n\n        for (var i = 0; i < this.Engine.getLimit(); ++i) {\n            var button = {}\n            this.resultButtons.push(button);\n        }\n\n        var startIndex = this.resultButtons.length - this.Engine.getLimit();\n        this.injectGIFs(null, startIndex, CATEGORY_TRENDING, null);\n        this.loading = false;\n    }\n\n    async loadResultsPage() {\n        this.showResults();\n\n        for (var i = 0; i < this.Engine.getLimit(); ++i) {\n            var button = {}\n            this.resultButtons.push(button);\n        }\n\n        var startIndex = this.resultButtons.length - this.Engine.getLimit();\n        this.injectGIFs(this.query(), startIndex, CATEGORY_RESULT, null);\n        this.loading = false;\n    }\n\n    resetResultsPage() {\n        this.$(`.${prefix}-container`).eq(2).animate({scrollTop: 0});\n        this.resultButtons = new Array();\n\n        this.next = null;\n        this.loading = false;\n        this.reachedEnd = false;\n    }\n\n    loadMore(e) {\n        if ((!this.isResultsVisible && !this.isTrendingVisible) || this.loading || this.reachedEnd) {\n            return;\n        }\n\n        if (e.target.scrollTop >= e.target.scrollHeight - e.target.offsetHeight - 200) {\n            this.loading = true;\n\n            if (this.isResultsVisible) {\n                this.loadResultsPage();\n            } else {\n                this.loadTrendingPage();\n            }\n        }\n    }\n\n    /**\n     * This function is sets the GIF id, title and url\n     * after it has been added to the DOM window\n     *\n     * @param   {string|null}   t               query, gif ids or null\n     * @param   {number}        startIndex      start index to set the properties\n     * @param   {string}        category        the category of the button\n     * @param   {number|null}   limit           the number of GIFs to be loaded\n     */\n    async injectGIFs(t, startIndex, category, limit) {\n        var gifs;\n\n        if (category === CATEGORY_FAVOURITE) {\n            gifs = await this.Engine.getGIFsByIDs(t);\n        } else if (category === CATEGORY_TRENDING || t == null) {\n            var obj = await this.Engine.getTrendingGIFs(this.next, limit);\n\n            gifs = obj.gifs;\n            !limit && (this.next = obj.next);\n        } else {\n            obj = await this.Engine.getGIFs(t, this.next, limit);\n\n            gifs = obj.gifs;\n            !limit && (this.next = obj.next);\n        }\n\n        for (var i = 0; i < (limit || this.Engine.getLimit()); ++i) {\n            if (gifs[i] === undefined) {\n                if (category === CATEGORY_FAVOURITE) {\n                    this.favouriteButtons.splice(startIndex + i);\n                } else if (category === CATEGORY_RESULT) {\n                    this.resultButtons.splice(startIndex + i);\n                }\n\n                this.reachedEnd = true;\n                break;\n            }\n\n            var gif = this.Engine.extractGIF(gifs[i]);\n            var button = {};\n\n            button.id = gif.id;\n            button.title = gif.title;\n            button.url = gif.url;\n            button.isFavourite = this.favourites.has(gif.id);\n            button.onclick = (e, id) => {\n                var title = e.target.alt;\n                var url = e.target.src;\n                var embed = `![${this.engine[0].toUpperCase()}${this.engine.slice(1)} - ${title}](${url})`;\n                \n                this.textArea.insertAtCursor(embed);\n                app.modal.close();\n\n                // For the Tenor API, it is required to register the shared GIF\n                if (this.engine === ENGINE_TENOR) {\n                    var url = `https://g.tenor.com/v1/registershare?&key=${this.apiKey}${this.query() != '' ? `&q=${this.query()}` : ''}&id=${id}`;\n                    fetch(url);\n                }\n            }\n            button.favourite = async (id) => {\n                var result = false;\n\n                if (this.favourites.has(id)) {\n                    await app.request({\n                        method: 'DELETE',\n                        url: `${app.forum.attribute('apiUrl')}/${prefix}/${id}`,\n                    }).then(() => {\n                        var index = this.favouriteButtons.findIndex(\n                            el => el.id === id\n                        );\n                        this.favouriteButtons.splice(index, 1);\n                        this.favourites.delete(id);\n\n                        if (this.favouriteButtons.length == 0) {\n                            delete this.homeButtons[0].url;\n                        } else {\n                            this.homeButtons[0].url = this.favouriteButtons[0].url;\n                        }\n\n                        result = true;\n                    });\n                } else {\n                    await app.store.createRecord(prefix).save({\n                        gifID: id\n                    }).then(() => {\n                        this.favouriteButtons.unshift({});\n                        this.injectGIFs(id, 0, CATEGORY_FAVOURITE, 1);\n                        this.favourites.add(id);\n\n                        result = true;\n                    });\n                }\n\n                return result;\n            }\n\n            if (category === CATEGORY_HOME) {\n                this.homeButtons[startIndex + i].url = gif.url;\n            } else if (category === CATEGORY_FAVOURITE) {\n                Object.assign(this.favouriteButtons[startIndex + i], button);\n\n                if (startIndex + i == 0) {\n                    this.homeButtons[0].url = gif.url;\n                }\n            } else {\n                Object.assign(this.resultButtons[startIndex + i], button);\n            }\n        }\n\n        m.redraw();\n    }\n\n    onsubmit(e) {\n        e.preventDefault();\n    }\n\n    onkeydown(e) {\n        if (e.key === 'Enter') {\n            this.query(this.query().trim());\n\n            if (this.query() === '') {\n                this.showHome();\n            } else {\n                this.resetResultsPage();\n                this.loadResultsPage();\n            }\n        }\n    }\n}\n","import Component from 'flarum/common/Component';\n\nexport default class SuggestionButton extends Component {\n    view() {\n        const attrs = this.attrs.attributes;\n\n        const title = attrs.title;\n        const url = attrs.url;\n        const icon = attrs.icon;\n        const onclick = attrs.onclick;\n\n        return <div style={url && `background-image: url(${url})`} onclick={onclick}>\n            {icon && <i class={icon}></i>}  {title}\n        </div>;\n    }\n}\n","import app from 'flarum/app';\nimport Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport Tooltip from 'flarum/common/components/Tooltip';\n\nconst prefix = 'therealsujitk-gifs';\n\nexport default class ResultButton extends Component {\n    oninit(vnode) {\n        super.oninit(vnode);\n\n        this.loading = false;\n        this.hidden = true;                         // Hide the image until the height has been adjusted\n        this.rowSpan = Math.random() * 15 + 25;     // The number of rows the button covers (random before loading)\n        \n        this.id;\n    }\n\n    view() {\n        const attrs = this.attrs.attributes;\n        \n        this.id = attrs.id;\n        this.favourite = attrs.favourite;\n\n        const title = attrs.title;\n        const url = attrs.url;\n        const onclick = attrs.onclick;\n\n        return <div style={this.rowSpan && `grid-row-end: span ${Math.round(this.rowSpan)}`}>\n            <img alt={title} src={url} style={this.hidden ? 'visibility: hidden' : ''} onclick={(e) => {onclick(e, this.id)}} onload={this.setRowSpan.bind(this)} />\n            <Tooltip showOnFocus={false} text={!attrs.isFavourite ? app.translator.trans(`${prefix}.forum.addFavourite`) : app.translator.trans(`${prefix}.forum.removeFavourite`)}>\n                <Button className={`Button Button--icon hasIcon`} style={this.hidden ? 'visibility: hidden' : ''} icon={!this.loading ? (attrs.isFavourite ? 'fas fa-star' : 'far fa-star') : ''} loading={this.loading} onclick={this.handleFavourite.bind(this)} />\n            </Tooltip>\n        </div>;\n    }\n\n    setRowSpan(e) {\n        this.rowSpan = e.target.height / 5 + 2;\n        this.hidden = false;\n    }\n\n    async handleFavourite() {\n        this.loading = true;\n        var result = await this.favourite(this.id);\n\n        if (result) {\n            this.attrs.attributes.isFavourite = !this.attrs.attributes.isFavourite;\n        }\n\n        this.loading = false;\n        m.redraw();\n    }\n}\n","export function initialize(apiKey) {\n    this.baseUrl = 'https://api.giphy.com/v1';\n    this.defaultLimit = 10;\n\n    this.apiKey = apiKey;\n}\n\nexport async function getTrendingTerms() {\n    var terms;\n    var url = `${this.baseUrl}/trending/searches?api_key=${this.apiKey}`;\n\n    await fetch(url)\n    .then((response) => response.json())\n    .then((content) => {\n        if (content.data === undefined) {\n            console.error('Sorry, there was something wrong with the Giphy API Key.');\n            return;\n        }\n\n        terms = content.data;\n    });\n\n    return terms;\n}\n\nexport async function getTrendingGIFs(offset, limit) {\n    var obj;\n    var url = `${this.baseUrl}/gifs/trending?api_key=${this.apiKey}&limit=${limit || this.defaultLimit}${offset ? `&offset=${offset}` : ''}`;\n\n    await fetch(url)\n    .then((response) => response.json())\n    .then((content) => {\n        if (content.data === undefined) {\n            console.error('Sorry, there was something wrong with the Tenor API Key.');\n            return;\n        }\n\n        obj = {\n            gifs: content.data,\n            next: offset + (limit || this.defaultLimit)\n        };\n    });\n    \n    return obj;\n}\n\nexport async function getGIFs(query, offset, limit) {\n    var obj;\n    var url = `${this.baseUrl}/gifs/search?api_key=${this.apiKey}&q=${query}&limit=${limit || this.defaultLimit}${offset ? `&offset=${offset}` : ''}`;\n\n    await fetch(url)\n    .then((response) => response.json())\n    .then((content) => {\n        if (content.data === undefined) {\n            console.error('Sorry, there was something wrong with the Tenor API Key.');\n            return;\n        }\n\n        obj = {\n            gifs: content.data,\n            next: offset + (limit || this.defaultLimit)\n        };\n    });\n    \n    return obj;\n}\n\nexport async function getGIFsByIDs(ids) {\n    var gifs;\n    var url = `${this.baseUrl}/gifs?api_key=${this.apiKey}&ids=${ids}`;\n\n    await fetch(url)\n    .then((response) => response.json())\n    .then((content) => {\n        gifs = content.data;\n    });\n\n    return gifs;\n}\n\nexport function extractGIF(gif) {\n    return {\n        id: gif.id,\n        title: gif.title,\n        url: gif.images.original.url\n    };\n}\n\nexport function getLimit() {\n    return this.defaultLimit;\n}\n","export function initialize(apiKey) {\n    this.baseUrl = 'https://g.tenor.com/v1';\n    this.defaultLimit = 10;\n\n    this.apiKey = apiKey;\n}\n\nexport async function getTrendingTerms() {\n    var terms;\n    var url = `${this.baseUrl}/trending_terms?key=${this.apiKey}`;\n\n    await fetch(url)\n    .then((response) => response.json())\n    .then((content) => {\n        if (content.results === undefined) {\n            console.error('Sorry, there was something wrong with the Tenor API Key.');\n            return;\n        }\n\n        terms = content.results;\n    });\n\n    return terms;\n}\n\nexport async function getTrendingGIFs(pos, limit) {\n    var obj;\n    var url = `${this.baseUrl}/trending?key=${this.apiKey}&media_filter=minimal&limit=${limit || this.defaultLimit}${pos ? `&pos=${pos}` : ''}`;\n\n    await fetch(url)\n    .then((response) => response.json())\n    .then((content) => {\n        if (content.results === undefined) {\n            console.error('Sorry, there was something wrong with the Tenor API Key.');\n            return;\n        }\n\n        obj = {\n            gifs: content.results,\n            next: content.next\n        };\n    });\n    \n    return obj;\n}\n\nexport async function getGIFs(query, pos, limit) {\n    var obj;\n    var url = `${this.baseUrl}/search?key=${this.apiKey}&q=${query}&media_filter=minimal&limit=${limit || this.defaultLimit}${pos ? `&pos=${pos}` : ''}`;\n\n    await fetch(url)\n    .then((response) => response.json())\n    .then((content) => {\n        if (content.results === undefined) {\n            console.error('Sorry, there was something wrong with the Tenor API Key.');\n            return;\n        }\n\n        obj = {\n            gifs: content.results,\n            next: content.next\n        };\n    });\n    \n    return obj;\n}\n\nexport async function getGIFsByIDs(ids) {\n    var gifs;\n    var url = `${this.baseUrl}/gifs?key=${this.apiKey}&ids=${ids}&media_filter=minimal`;\n\n    await fetch(url)\n    .then((response) => response.json())\n    .then((content) => {\n        gifs = content.results;\n    });\n\n    return gifs;\n}\n\nexport function extractGIF(gif) {\n    return {\n        id: gif.id,\n        title: gif.title,\n        url: gif.media[0].gif.url\n    };\n}\n\nexport function getLimit() {\n    return this.defaultLimit;\n}\n","import { extend } from 'flarum/common/extend';\nimport app from 'flarum/common/app';\nimport TextEditor from 'flarum/common/components/TextEditor';\nimport TextEditorButton from 'flarum/common/components/TextEditorButton';\nimport GIFModal from './components/GIFModal';\nimport GIF from './models/GIF';\n\nconst prefix = 'therealsujitk-gifs';\n\napp.initializers.add(prefix, () => {\n    app.store.models[prefix] = GIF;\n\n    extend(TextEditor.prototype, 'toolbarItems', function (items) {\n        items.add('my-item',\n            <TextEditorButton id={`${prefix}-toolbar-item`} className=\"Button Button--icon Button--link hasIcon\" title={app.translator.trans(`${prefix}.forum.label`)} onclick={() => app.modal.show(GIFModal, { textArea: this.attrs.composer.editor })}>\n                <svg id=\"therealsujitk-gifs-toolbar-item\" xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" width=\"16pt\" height=\"7pt\" viewBox=\"0 0 16 7\" version=\"1.1\">\n                    <g>\n                        <path d=\"M 0.78125 7.042969 C 0.496094 6.933594 0.265625 6.738281 0.132812 6.480469 L 0 6.234375 L 0 0.875 L 0.132812 0.625 C 0.277344 0.355469 0.558594 0.128906 0.847656 0.0429688 C 0.957031 0.015625 1.71875 0 2.917969 0.0078125 L 4.808594 0.0234375 L 5.050781 0.15625 C 5.21875 0.246094 5.332031 0.355469 5.425781 0.511719 C 5.597656 0.800781 5.648438 0.992188 5.648438 1.410156 L 5.648438 1.753906 L 1.65625 1.753906 L 1.65625 5.355469 L 3.96875 5.355469 L 3.96875 3.554688 L 5.648438 3.554688 L 5.648438 4.800781 C 5.648438 5.484375 5.628906 6.117188 5.605469 6.207031 C 5.523438 6.527344 5.308594 6.808594 5.050781 6.953125 L 4.808594 7.085938 L 2.878906 7.09375 C 1.339844 7.105469 0.917969 7.09375 0.78125 7.042969 Z M 0.78125 7.042969\" fill=\"currentColor\"></path>\n                        <path d=\"M 7.371094 3.554688 L 7.371094 0 L 9.050781 0 L 9.050781 7.109375 L 7.371094 7.109375 Z M 7.371094 3.554688\" fill=\"currentColor\"></path>\n                        <path d=\"M 10.773438 3.554688 L 10.773438 0 L 15.855469 0 L 15.855469 1.753906 L 12.453125 1.753906 L 12.453125 2.988281 L 14.722656 2.988281 L 14.722656 4.742188 L 12.453125 4.742188 L 12.453125 7.109375 L 10.773438 7.109375 Z M 10.773438 3.554688\" fill=\"currentColor\"></path>\n                    </g>\n                </svg>\n            </TextEditorButton>\n        );\n    });\n});\n","import Model from 'flarum/Model';\n\nexport default class GIF extends Model {\n    gifID = Model.attribute('gifID');\n}\n","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/app'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/components/TextEditor'];","module.exports = flarum.core.compat['common/components/TextEditorButton'];","module.exports = flarum.core.compat['common/components/Tooltip'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/utils/Stream'];"],"sourceRoot":""}